spack:

  include:
  - ../main.yaml

  specs:
  - gcc@15.2.0
  # - llvm@20.1.8 flang=true
  - intel-oneapi-compilers@2025.2.0 amd=true nvidia=true ^gcc@11
  - llvm@20.1 +flang

  view: false
  concretizer:
    unify: when_possible

  packages:
    all:
      require:
      - target=x86_64
      - '%c=gcc@11.5.0'

    gcc:
      externals:
      - spec: gcc@11.5.0 languages:='c,c++,fortran'
        prefix: /usr
        extra_attributes:
          compilers:
            c: /usr/bin/gcc
            cxx: /usr/bin/g++
            fortran: /usr/bin/gfortran
          flags: {}
          environment: {}
          extra_rpaths: []

    binutils:
      buildable: false
      externals:
      - spec: binutils@2.35.2
        prefix: /usr
